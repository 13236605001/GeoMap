<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title> GeoMap.js </title>
		<meta name="description" content="XXX" />
		<meta name="keywords" content="k1,k2" />
		<meta name="author" content="Tim Yang" />
		<script type="text/javascript" src="jslib/jquery-1.8.2.min.js"></script>
		<script type="text/javascript" src="jslib/tuna.js"></script>
		<script type="text/javascript" src="jslib/raphael-min.js"></script>
		<script type="text/javascript" src="geomap/geomap.js"></script>
	</head>
	<body style="background:#fff;">
		<div id="text" style="width:100%;height:30px;"></div>
		<div id="map" style="width:1000px;height:550px;margin:0 auto;"></div>
		<script>

			var aCitys = {bj:{y:39.90,x:116.42},sh:{y:31.14,x:121.29},hk:{y:22.39,x:114.1},tb:{y:25.03,x:121.30},ny:{y:40.71435280,x:-74.00597309999999},sn:{y:-33.86748690,x:151.20699020}};
			
			// 创建地图画布
			var map = GeoMap.create('#map');
			
			// 设置参数：地图路径数据和缩放倍数
			var config = {
				srcPath:'http://127.0.0.1/geomap/json/world.geo.json',
                scale:{x:2.7,y:3}
			};
			
			// 渲染地图
			map.render(config, function(){
				
				// 在地图上标出一些城市
				$.each(aCitys, function(k, v){
					map.setPoint({
						x:v.x,
						y:v.y,
						r:3,
						fill:"#333"
					});
				});
				
				// 给地图各个区块设置鼠标经过事件
				var ps = map.mapPaths;
				$.each(ps, function(k, v){
					v.hover(function(){
						$('#text').html(k);
						this.attr({fill:"#369"});
					},function(){
						this.attr(map.defaultConfig.style);
					});
				});
			});


		</script>
	</body>
</html>

