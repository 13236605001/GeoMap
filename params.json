{"name":"Geomap","tagline":"JavaScript geoJSON map","body":"# GeoMap.js\r\n\r\n## 概述\r\n\r\n* GeoMap.js是一个绘制矢量地图控件，基于jQuery、Raphael，\r\n\r\n* 支持geoJSON格式的数据源\r\n\r\n* 通过Raphael绘制地图，默认采用svg，低版本IE采用vml，兼容性较好\r\n\r\n\r\n\r\n## 文件结构\r\n\r\n\tjson/\t\t\t\t//地图数据\r\n\told/\t\t\t\t//旧版（实现方法有问题，存做标本）\r\n\tsrc/\t\t\t\t//开发文件\r\n\tgeomap-0.X.X.js\t\t//发布文件\r\n\texample.html\t\t//示例文件\r\n\r\n## 使用方法\r\n\r\n基本操作：\r\n\r\n```js\r\n//实例化一个GeoMap对象\r\nvar map = new GeoMap();\r\n\t\r\n//载入json数据\r\n$.ajax({\r\n\turl: '…'\r\n\tdataType: 'json'\r\n}).done(function(json){\r\n\tmap.load(json);\t\t//将数据载入GeoMap的实例对象\r\n});\r\n\r\n//渲染\r\nmap.render();\r\n```\r\n\r\n\r\n设置：\r\n\r\n```js\r\n//实例化GeoMap对象时可以传入设置项目的对象\r\nvar map = new GeoMap({…});\r\n/*\r\n\t默认设置\r\n\tdefaultCfg = {\r\n\t\tcontainer: 'body',\r\n\t    offset: null,\r\n\t\tscale: null,\r\n\t\tmapStyle: {\r\n\t\t\t'fill': '#fff',\r\n\t\t\t'stroke': '#999',\r\n\t\t\t'stroke-width': 0.7\r\n\t\t},\r\n\t\tcrossline:{\r\n\t\t\tenable: true,\r\n\t\t\tcolor: '#ccc'\r\n\t\t},\r\n\t    background:'#fff'\r\n\t};\r\n*/\r\n```\r\n\r\n指定渲染位置：\r\n\r\n```js\r\n//GeoMap默认在body元素下生成地图\r\n//实例化时可以设置container指定渲染位置\r\nvar map = new GeoMap({\r\n\tcontainer: '#map'\r\n});\r\n```\r\n\t\r\n缩放与偏移：\r\n\r\n```js\r\n//geoJSON数据是真实地理经纬度数据\r\n//转换到页面显示需要设置偏移和缩放\r\nvar map = new GeoMap({\r\n\t//偏移：确定地图位置\r\n\toffset: {\r\n\t\tx: 0, y: 0\t//世界地图默认不需位移\r\n\t},\r\n\t//缩放：确定地图大小\r\n\tscale:{\r\n\t\tx: 2.6, y: 3\r\n\t}\r\n});\r\n//如果不设置偏移，脚本会自动计算路径数据，并让地图从左上角开始渲染\r\n```\r\n\r\n属性绑定：\r\n\r\n```js\r\n//通过Raphael的data方法绑定地区的属性\r\n```\r\n\r\n操作地图上的区块：\r\n\r\n```js\r\nvar map = new GeoMap(config);\r\nmap.load(data);\r\nmap.render();\r\n\r\n//渲染之后，map的shapes属性即地图上的各个区块，可以添加事件\r\nmap.shapes.hover(function(){\r\n\t...\r\n});\r\n```\r\n\r\n画点：\r\n\r\n```js\r\n//map对象有一个setPoint方法，该方法接受一个坐标参数（取实际经纬度坐标）\r\n//比如北京坐标是x: 116.4551, y: 40.2539\r\npoint = map.setPoint({x: 116.4551, y: 40.2539});\r\n\r\n//点是用Raphael的circle方法画出的，可以通过属性设置，更改点的大小\r\npoint.attr('r', 5);\r\n```\r\n\r\n计算一个点的实际经纬度：\r\n```js\r\nmap.getGeoPosition([10, 10]); //=> 页面地图上10,10这个点的实际经纬度坐标\r\n```\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}